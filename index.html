<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="证不如数学|码不如码农">
<meta property="og:type" content="website">
<meta property="og:title" content="Rui's Blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Rui's Blog">
<meta property="og:description" content="证不如数学|码不如码农">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Rui's Blog">
<meta name="twitter:description" content="证不如数学|码不如码农">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title> Rui's Blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Rui's Blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
    
      <p class="site-subtitle"></p>
    
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-pause"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-files-o"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-intersex"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/01/23/MapReduce应用实例/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Rita Hu">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/a1.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Rui's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Rui's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/01/23/MapReduce应用实例/" itemprop="url">
                  MapReduce应用实例
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-01-23T23:31:45-06:00">
                2017-01-23
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Notes/" itemprop="url" rel="index">
                    <span itemprop="name">Notes</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="单词计数"><a href="#单词计数" class="headerlink" title="单词计数"></a>单词计数</h1><p>计算出文件中各个单词的频数 Word Count</p>
<blockquote>
<p>Map阶段： 由输入数据到单词切分<br>shuffle阶段： 完成相同单词的聚集和分发工作<br>reduce阶段： 接收所有单词并计算其频数</p>
</blockquote>
<h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>由于Mapreduce中传递的数据都是<key,value>形式的，并且shuffle排序聚集分发都是按照key值进行的，所以将map的输出设计成由word作为key，1作为value的形式，它表示单词word出现了一次（map的输入采用Hadoop默认的输入方式：文件一行作为value，行号作为key）。reduce的输入为map输出聚集后的结果，即<key,value-list>，具体到这个实例就是<word,{1,1,1,1…}>，reduce的输出会设计成与map输出相同的形式，只是后面的数字不是1，而是对应频数。<br>WordCount程序在map阶段接受输入的<key,value>（key是当前输入的行号，value是对应行的内容），然后对此行内容进行切词，每切一个词下来就将其组织成<word,1>的形式输出。在reduce阶段，TaskTracker会接收到<word,{1,1,1,1…}>形式的数据，reduce每接收一个就+1，最后组织成<word,sum>直接输出。</word,sum></word,{1,1,1,1…}></word,1></key,value></word,{1,1,1,1…}></key,value-list></key,value></p>
<h2 id="执行"><a href="#执行" class="headerlink" title="执行"></a>执行</h2><p>运行条件： 将WordCount.java文件放在Hadoop安装目录下，并在目录下创建输入目录input，目录下有输入文件file。<br>命令行：<br>1）在集群上创建输入文件夹<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ bin/hadoop fs -mkdir input</div></pre></td></tr></table></figure></p>
<p>2) 上传本地目录input下名为file的文件到集群上的input目录下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ bin/hadoop fs -put input/file input</div></pre></td></tr></table></figure></p>
<p>3) 编译WordCount.java程序，将结果放入当前目录的WordCount目录下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ javac -classpath hadoop-0.20.2-core.jar:</div><div class="line">$ lib/commons-cli-1.2.jar -d WordCount WordCount.java</div></pre></td></tr></table></figure></p>
<p>4）将编译结果打成jar包：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ jar -cvf wordcount.jar -C WordCount</div></pre></td></tr></table></figure></p>
<p>5) 在集群上运行WordCount程序，以input目录作为输入目录，output目录作为输出目录：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ bin/hadoop jar wordcount.jar WordCount input output</div></pre></td></tr></table></figure></p>
<p>6) 查看输出结果<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ bin/hadoop fs -cat output/part-r-00000</div></pre></td></tr></table></figure></p>
<h2 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h2><p>hadoop       1<br>hello        3<br>mapreduce    1<br>world        1</p>
<h1 id="数据去重"><a href="#数据去重" class="headerlink" title="数据去重"></a>数据去重</h1><p>统计大数据集上的数据种类个数、从网站日志中计算访问地等都涉及数据去重。</p>
<h2 id="思路-1"><a href="#思路-1" class="headerlink" title="思路"></a>思路</h2><p>reduce的输入应该以数据作为key，而对value-list则没有要求。当reduce接收到一个<key,value-list>时就直接将key复制到输出的key中，并将value设置成空值。所以，map输出数据的key为数据，而在这个实例中每个数据代表输入文件中的一行内容，所以map阶段要完成的任务就是在采用Hadoop默认的作业输入方式之后，将value设置成key，并直接输出（输出中的value任意）。reduce阶段不会管每个key有多少个value，它直接将输入的key复制为输出的key，并输出就可以了。</key,value-list></p>
<h1 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h1><p>对输入文件中的数据进行排序。输入文件中的每行内容均为一个数据。要求在输出中每行有两个间隔的数字，其中，第二个代表原始数据，第一个代表这个原始数据在原始数据集中的位次。</p>
<p>样例输出：<br>1    2<br>2    6<br>3    15</p>
<p>MapReduce里的默认排序规则是按照key值进行排序的。应该使用封装int的IntWritable型数据结构。在map中将读入的数据转化成IntWritable型，然后作为key值输出（value任意）。reduce拿到<key,value-list>之后，将输入的key作为value输出，并根据value-list中元素的个数决定输出的次数。输出的key是一个全局变量，它统计当前key的位次。<br><strong>Tips</strong></key,value-list></p>
<blockquote>
<p>如果key为封装int的IntWritable类型，按照数字大小对key排序；<br>封装String的Text类型，按照字典顺序对字符串排序</p>
</blockquote>
<h1 id="单表关联"><a href="#单表关联" class="headerlink" title="单表关联"></a>单表关联</h1><p>连接的是左表的parent列和右表的child列，且左表和右表是同一个表。连接结果中除去连接的两列就是所需要的结果。MapReduce的Shuffle过程会将相同的key值放在一起，所以可以将map结果的key值设置成待连接的列，然后列中相同的值就自然会连接在一起了。在map阶段将读入数据分割成child和parent之后，会将parent设置成key，child设置成value进行输出，并作为左表；再反过来做一遍作为右表。为了区分输出中的左右表，需要在输出的value中再加上左右表的信息，如在value的String最开始处加上字符1表示左表，2表示右表。这样在map的结果中就形成了左表右表，shuffle过程中完成连接，reduce接收到连接的结果，其中每个key的value-list就包含了grandchild和grandparent关系。取出每个key的value-list进行解析，将左表中的child放入一个数组，右表中的parent放入一个数组，然后对两个数组求笛卡尔积就是最后的结果了。</p>
<p><strong>Notes</strong><br>笛卡尔积<br>如果集合X是13个元素的点数集合，而集合Y是4个元素的花色集合，则这两个集合的笛卡儿积是有52个元素的标准扑克牌的集合。</p>
<h1 id="多表关联"><a href="#多表关联" class="headerlink" title="多表关联"></a>多表关联</h1>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/01/22/Machine-Learning-Algorithm/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Rita Hu">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/a1.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Rui's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Rui's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/01/22/Machine-Learning-Algorithm/" itemprop="url">
                  Machine Learning Algorithm
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-01-22T23:14:59-06:00">
                2017-01-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Notes/" itemprop="url" rel="index">
                    <span itemprop="name">Notes</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Objectives"><a href="#Objectives" class="headerlink" title="Objectives"></a>Objectives</h1><blockquote>
<p>机器学习常见算法（Classification and Regression) 知识框架</p>
<ol>
<li>Supervised Machine Learning Algorithms</li>
<li>Unsupervised Machine Learning Algorithms</li>
<li>Reinforcement Machine Learning Algorithms</li>
</ol>
</blockquote>
<h2 id="1-Naive-Bayes-Classifier-Algorithm"><a href="#1-Naive-Bayes-Classifier-Algorithm" class="headerlink" title="1. Naïve Bayes Classifier Algorithm"></a>1. Naïve Bayes Classifier Algorithm</h2><h3 id="1-1-Concepts"><a href="#1-1-Concepts" class="headerlink" title="1.1 Concepts"></a>1.1 Concepts</h3><ul>
<li>Supervised  </li>
<li>Classification</li>
</ul>
<h3 id="1-2-Applications"><a href="#1-2-Applications" class="headerlink" title="1.2 Applications:"></a>1.2 Applications:</h3><ul>
<li>Spam Filtering</li>
<li>Disease Prediction</li>
<li>Document Categorization</li>
<li>Sentiment Analysis (positive or negative emotions)   </li>
</ul>
<h3 id="1-3-When-to-use"><a href="#1-3-When-to-use" class="headerlink" title="1.3 When to use?"></a>1.3 When to use?</h3><ul>
<li>Moderate or large training data set</li>
<li>Several attributes</li>
<li>Given the classification parameter, attributes should be conditionally independent. (?)</li>
</ul>
<h3 id="1-4-Advantages"><a href="#1-4-Advantages" class="headerlink" title="1.4 Advantages:"></a>1.4 Advantages:</h3><ul>
<li>Performs well when the input variables are categorical;(why)</li>
<li>A Naïve Bayes classifier converges faster, requiring relatively little training data than other discriminative models like logistic regression, when the Naïve Bayes conditional independence assumption holds.</li>
<li>With Naïve Bayes Classifier algorithm, it is easier to predict class of the test data set. A good bet for multi class predictions as well.</li>
<li>They require a small amount of training data to estimate the necessary parameters. </li>
<li>The decoupling of the class conditional feature distributions means that each distribution can be independently estimated as a one dimensional distribution. This in turn helps to alleviate problems stemming from the curse of dimensionality.</li>
<li>On the flip side, although naive Bayes is known as a decent classifier, it is known to be a bad estimator, so the probability outputs from <code>predict_proba</code> are not to be taken too seriously.</li>
</ul>
<h3 id="1-5-Codes"><a href="#1-5-Codes" class="headerlink" title="1.5 Codes"></a>1.5 Codes</h3><p><strong>Python</strong></p>
<p><strong>R</strong><br>e1071</p>
<h2 id="2-K-Means-Clustering-Algorithm"><a href="#2-K-Means-Clustering-Algorithm" class="headerlink" title="2. K Means Clustering Algorithm"></a>2. K Means Clustering Algorithm</h2><h3 id="2-1-Concepts"><a href="#2-1-Concepts" class="headerlink" title="2.1  Concepts"></a>2.1  Concepts</h3><ul>
<li>Unsupervised</li>
<li>Clustering</li>
<li>A non-deterministic and iterative method.</li>
<li>Input: pre-defined number of clusters k </li>
<li>Output: k clusters with input data partitioned among the clusters</li>
</ul>
<h3 id="2-2-Applications"><a href="#2-2-Applications" class="headerlink" title="2.2 Applications:"></a>2.2 Applications:</h3><ul>
<li>Search engines to cluster web pages by similarity and identify the ‘relevance rate’ of search results  </li>
</ul>
<h3 id="2-3-When-to-use"><a href="#2-3-When-to-use" class="headerlink" title="2.3 When to use?"></a>2.3 When to use?</h3><h3 id="2-4-Advantages"><a href="#2-4-Advantages" class="headerlink" title="2.4 Advantages:"></a>2.4 Advantages:</h3><ul>
<li>In case of globular clusters, K-Means produces tighter clusters than hierarchical clustering.</li>
<li>Given a smaller value of K, K-Means clustering computes faster than hierarchical clustering for large number of variables.</li>
</ul>
<h3 id="2-5-Codes"><a href="#2-5-Codes" class="headerlink" title="2.5 Codes"></a>2.5 Codes</h3><p><strong>Python</strong><br>Libraries: SciPy, Sci-Kit Learn, Python Wrapper</p>
<p><strong>R</strong><br>Libraries: stats</p>
<h2 id="3-Support-Vector-Machine-Algorithm"><a href="#3-Support-Vector-Machine-Algorithm" class="headerlink" title="3. Support Vector Machine Algorithm"></a>3. Support Vector Machine Algorithm</h2><h3 id="3-1-Concepts"><a href="#3-1-Concepts" class="headerlink" title="3.1  Concepts"></a>3.1  Concepts</h3><ul>
<li>Supervised</li>
<li>classification or regression</li>
<li>finding a line (hyperplane) which separates the training data set into classes</li>
<li>tries to maximize the distance between the various classes that are involved and this is referred as margin maximization.</li>
</ul>
<p><strong>Categories</strong></p>
<ul>
<li>Linear SVM</li>
<li>Non-Linear SVM</li>
</ul>
<h3 id="3-2-Applications"><a href="#3-2-Applications" class="headerlink" title="3.2 Applications:"></a>3.2 Applications:</h3><ul>
<li>Face detection </li>
<li>Stock market forecasting</li>
</ul>
<h3 id="3-3-When-to-use"><a href="#3-3-When-to-use" class="headerlink" title="3.3 When to use?"></a>3.3 When to use?</h3><h3 id="3-4-Advantages"><a href="#3-4-Advantages" class="headerlink" title="3.4 Advantages:"></a>3.4 Advantages:</h3><ul>
<li>Does not make any strong assumptions on data.</li>
<li>Does not over-fit the data. More efficiency for correct classification of the future data</li>
<li>Offers best classification performance (accuracy) on the training data.</li>
</ul>
<h3 id="3-5-Codes"><a href="#3-5-Codes" class="headerlink" title="3.5 Codes"></a>3.5 Codes</h3><p><strong>Python</strong><br>Libraries: SciKit Learn, PyML , SVMStruct  Python , LIBSVM</p>
<p><strong>R</strong><br>Libraries: klar, e1071</p>
<h2 id="4-Apriori-Algorithm"><a href="#4-Apriori-Algorithm" class="headerlink" title="4. Apriori Algorithm"></a>4. Apriori Algorithm</h2><h3 id="4-1-Concepts"><a href="#4-1-Concepts" class="headerlink" title="4.1  Concepts"></a>4.1  Concepts</h3><ul>
<li>Unsupervised</li>
<li>Generates association rules from a given data set</li>
</ul>
<p><strong>Notes</strong></p>
<blockquote>
<p>Association rule implies that if an item A occurs, then item B also occurs with a certain probability.</p>
</blockquote>
<p><strong>Basic principle on which Apriori Machine Learning Algorithm works:</strong></p>
<ul>
<li>If an item set occurs <strong>frequently</strong> then all the <strong>subsets</strong> of the item set, also occur frequently.</li>
<li>If an item set occurs <strong>infrequently</strong> then all the <strong>supersets</strong> of the item set have infrequent occurrence.</li>
</ul>
<h3 id="4-2-Applications"><a href="#4-2-Applications" class="headerlink" title="4.2 Applications:"></a>4.2 Applications:</h3><ul>
<li>Detecting Adverse Drug Reactions</li>
<li>Market Basket Analysis </li>
<li>Auto-Complete Applications</li>
</ul>
<h3 id="4-3-When-to-use"><a href="#4-3-When-to-use" class="headerlink" title="4.3 When to use?"></a>4.3 When to use?</h3><h3 id="4-4-Advantages"><a href="#4-4-Advantages" class="headerlink" title="4.4 Advantages:"></a>4.4 Advantages:</h3><ul>
<li>Easy to implement and can be parallelized easily.</li>
<li>Makes use of large item set properties.</li>
</ul>
<h3 id="4-5-Codes"><a href="#4-5-Codes" class="headerlink" title="4.5 Codes"></a>4.5 Codes</h3><p><strong>Python</strong><br>Libraries: PyPi</p>
<p><strong>R</strong><br>Libraries: arules</p>
<h2 id="5-Linear-Regression"><a href="#5-Linear-Regression" class="headerlink" title="5. Linear Regression"></a>5. Linear Regression</h2><h3 id="5-1-Concepts"><a href="#5-1-Concepts" class="headerlink" title="5.1  Concepts"></a>5.1  Concepts</h3><ul>
<li>Supervised</li>
<li>Regression or classification</li>
<li>Shows the relationship between 2 variables and how the change in one variable impacts the other. </li>
</ul>
<p><strong>GLR</strong></p>
<ol>
<li>Logistic Regression (See Section 6)</li>
<li>Poisson Regression<br>…</li>
</ol>
<p><strong>Penalized Method</strong></p>
<ol>
<li>Ridge</li>
<li>Lasso</li>
<li>Elastic?</li>
</ol>
<h3 id="5-2-Applications"><a href="#5-2-Applications" class="headerlink" title="5.2 Applications:"></a>5.2 Applications:</h3><ul>
<li>Estimating Sales</li>
<li>Risk Assessment</li>
</ul>
<h3 id="5-3-When-to-use"><a href="#5-3-When-to-use" class="headerlink" title="5.3 When to use?"></a>5.3 When to use?</h3><h3 id="5-4-Advantages"><a href="#5-4-Advantages" class="headerlink" title="5.4 Advantages:"></a>5.4 Advantages:</h3><ul>
<li>Interpretable</li>
<li>Minimal tuning</li>
</ul>
<h3 id="5-5-Codes"><a href="#5-5-Codes" class="headerlink" title="5.5 Codes"></a>5.5 Codes</h3><p><strong>Python</strong><br>Libraries: statsmodel and SciKit</p>
<p><strong>R</strong><br>Libraries: stats</p>
<h2 id="6-Logistic-Regression"><a href="#6-Logistic-Regression" class="headerlink" title="6. Logistic Regression"></a>6. Logistic Regression</h2><ul>
<li>Supervised</li>
<li>Classification</li>
</ul>
<h2 id="7-Artificial-Neural-Networks"><a href="#7-Artificial-Neural-Networks" class="headerlink" title="7. Artificial Neural Networks"></a>7. Artificial Neural Networks</h2><h2 id="8-Decision-Trees"><a href="#8-Decision-Trees" class="headerlink" title="8. Decision Trees"></a>8. Decision Trees</h2><h3 id="8-1-Concepts"><a href="#8-1-Concepts" class="headerlink" title="8.1  Concepts"></a>8.1  Concepts</h3><ul>
<li>Supervised</li>
<li>Regression or classification</li>
</ul>
<h3 id="8-2-Applications"><a href="#8-2-Applications" class="headerlink" title="8.2 Applications:"></a>8.2 Applications:</h3><ul>
<li>Option pricing</li>
<li>Remote sensing (an area of pattern recognition)</li>
<li>Loan Classification</li>
</ul>
<h3 id="8-3-When-to-use"><a href="#8-3-When-to-use" class="headerlink" title="8.3 When to use?"></a>8.3 When to use?</h3><ul>
<li>Training data contains errors （Decision trees are robust to errors）</li>
<li>Instances are represented by attribute value pairs</li>
<li>Missing value</li>
<li>The target function has discrete output values</li>
</ul>
<h3 id="8-4-Advantages"><a href="#8-4-Advantages" class="headerlink" title="8.4 Advantages:"></a>8.4 Advantages:</h3><ul>
<li>Instinctual</li>
<li>Data type is not a constraint as they can handle both categorical and numerical variables</li>
<li>Do not require making any assumption on the linearity in the data</li>
<li>Do not make any assumptions on the classifier structure and space distribution.</li>
<li>Feature selection-useful in data exploration.</li>
<li>Not sensitive to missing values and outliers.</li>
</ul>
<p><strong>Notes</strong></p>
<blockquote>
<p>Outliers will not affect the decision trees as data splitting happens based on some samples within the split range and not on exact absolute values.</p>
</blockquote>
<h3 id="8-5-Drawbacks"><a href="#8-5-Drawbacks" class="headerlink" title="8.5 Drawbacks:"></a>8.5 Drawbacks:</h3><ul>
<li>The more the number of decisions in a tree, less is the accuracy of any expected outcome.</li>
<li>Outcomes may be based on expectations?</li>
<li>Do not fit well for continuous variables and result in instability.</li>
<li>May be too big.</li>
</ul>
<h3 id="8-6-Codes"><a href="#8-6-Codes" class="headerlink" title="8.6 Codes"></a>8.6 Codes</h3><p><strong>Python</strong><br>Libraries: SciPy and Sci-Kit Learn.</p>
<p><strong>R</strong><br>Libraries: care</p>
<h2 id="9-Random-Forests"><a href="#9-Random-Forests" class="headerlink" title="9. Random Forests"></a>9. Random Forests</h2><h3 id="9-1-Concepts"><a href="#9-1-Concepts" class="headerlink" title="9.1  Concepts"></a>9.1  Concepts</h3><ul>
<li>Supervised</li>
<li>Regression or classification</li>
<li>Random Forest is the go to machine learning algorithm that uses a bagging approach to create a bunch of decision trees with random subset of the data. </li>
</ul>
<h3 id="9-2-Applications"><a href="#9-2-Applications" class="headerlink" title="9.2 Applications:"></a>9.2 Applications:</h3><ul>
<li>Estimating Sales</li>
<li>Risk Assessment</li>
</ul>
<h3 id="9-3-When-to-use"><a href="#9-3-When-to-use" class="headerlink" title="9.3 When to use?"></a>9.3 When to use?</h3><h3 id="9-4-Advantages"><a href="#9-4-Advantages" class="headerlink" title="9.4 Advantages:"></a>9.4 Advantages:</h3><ul>
<li>Avoid Overfitting, no need to prune the random forest.</li>
<li>Save data preparation time, do not require any input preparation and are capable of handling numerical, binary and categorical features, without scaling, transformation or modification.</li>
<li>More robust to noise.</li>
<li>Can be grown in parallel, runs efficiently on large databases and has higher classification accuracy.</li>
</ul>
<h3 id="9-5-Codes"><a href="#9-5-Codes" class="headerlink" title="9.5 Codes"></a>9.5 Codes</h3><p><strong>Python</strong><br>Libraries: Sci-Kit Learn</p>
<p><strong>R</strong><br>Libraries: randomForest</p>
<h2 id="10-Nearest-Neighbours"><a href="#10-Nearest-Neighbours" class="headerlink" title="10. Nearest Neighbours"></a>10. Nearest Neighbours</h2>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/01/22/Naive-Bayes/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Rita Hu">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/a1.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Rui's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Rui's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/01/22/Naive-Bayes/" itemprop="url">
                  Naive Bayes
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-01-22T23:14:59-06:00">
                2017-01-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Notes/" itemprop="url" rel="index">
                    <span itemprop="name">Notes</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <script type="text/x-mathjax-config">
MathJax.Hub.Config({
tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
});
</script>

<script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>


<h1 id="Naive-Bayes"><a href="#Naive-Bayes" class="headerlink" title="Naïve Bayes"></a>Naïve Bayes</h1><blockquote>
<p>Applying <strong>Bayes’ theorem</strong> with the <strong>naive</strong> assumption of independence between every pair of features.</p>
</blockquote>
<p>The different naive Bayes classifiers differ mainly by the assumptions they make regarding the distribution of $P(x_i \mid y)$.</p>
<h2 id="Gaussian-Naive-Bayes"><a href="#Gaussian-Naive-Bayes" class="headerlink" title="Gaussian Naive Bayes"></a>Gaussian Naive Bayes</h2><p>When dealing with continuous data, a typical assumption is that the continuous values associated with each class are distributed according to a Gaussian distribution. For example, suppose the training data contains a continuous attribute $x$. We first segment the data by the class, and then compute the mean and variance of $x$ in each class.</p>
<p>Another common technique for handling continuous values is to use binning to discretize the feature values, to obtain a new set of Bernoulli-distributed features; </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> datasets</div><div class="line">iris = datasets.load_iris()</div><div class="line"><span class="keyword">from</span> sklearn.naive_bayes <span class="keyword">import</span> GaussianNB</div><div class="line">gnb = GaussianNB()</div><div class="line">y_pred = gnb.fit(iris.data, iris.target).predict(iris.data)</div><div class="line">print(<span class="string">"Number of mislabeled points out of a total %d points : %d"</span></div><div class="line">      % (iris.data.shape[<span class="number">0</span>],(iris.target != y_pred).sum()))</div></pre></td></tr></table></figure>
<h2 id="Multinomial-Naive-Bayes"><a href="#Multinomial-Naive-Bayes" class="headerlink" title="Multinomial Naive Bayes"></a>Multinomial Naive Bayes</h2><p>MultinomialNB implements the naive Bayes algorithm for multinomially distributed data, and is one of the two classic naive Bayes variants used in text classification (where the data are typically represented as word vector counts, although tf-idf vectors are also known to work well in practice)</p>
<p>The multinomial naive Bayes classifier becomes a linear classifier when expressed in log-space.</p>
<p>If a given class and feature value never occur together in the training data, then the frequency-based probability estimate will be zero. This is problematic because it will wipe out all information in the other probabilities when they are multiplied. Therefore, it is often desirable to incorporate a small-sample correction, called pseudocount, in all probability estimates such that no probability is ever set to be exactly zero. This way of regularizing naive Bayes is called Laplace smoothing when the pseudocount is one, and Lidstone smoothing in the general case.</p>
<p>If categorical variable has a category (in test data set), which was not observed in training data set, then model will assign a 0 (zero) probability and will be unable to make a prediction. This is often known as “Zero Frequency”. To solve this, we can use the smoothing technique. One of the simplest smoothing techniques is called Laplace estimation.</p>
<p>Rennie et al. discuss problems with the multinomial assumption in the context of document classification and possible ways to alleviate those problems, including the use of tf–idf weights instead of raw term frequencies and document length normalization, to produce a naive Bayes classifier that is competitive with support vector machines.</p>
<h2 id="Bernoulli-Naive-Bayes"><a href="#Bernoulli-Naive-Bayes" class="headerlink" title="Bernoulli Naive Bayes"></a>Bernoulli Naive Bayes</h2><p>BernoulliNB implements the naive Bayes training and classification algorithms for data that is distributed according to multivariate Bernoulli distributions; i.e., there may be multiple features but each one is assumed to be a binary-valued (Bernoulli, boolean) variable. Therefore, this class requires samples to be represented as binary-valued feature vectors;</p>
<p>In the case of text classification, <strong>word occurrence</strong> vectors (rather than <strong>word count</strong> vectors) may be used to train and use this classifier. BernoulliNB might perform better on some datasets, especially those with shorter documents. It is advisable to evaluate both models, if time permits.</p>
<h2 id="Out-of-core-naive-Bayes-model-fitting"><a href="#Out-of-core-naive-Bayes-model-fitting" class="headerlink" title="Out-of-core naive Bayes model fitting"></a>Out-of-core naive Bayes model fitting</h2><p><a href="http://scikit-learn.org/stable/auto_examples/applications/plot_out_of_core_classification.html#sphx-glr-auto-examples-applications-plot-out-of-core-classification-py" target="_blank" rel="external">Out-of-core classification of text documents</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/01/21/Hadoop-Notes/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Rita Hu">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/a1.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Rui's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Rui's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/01/21/Hadoop-Notes/" itemprop="url">
                  Hadoop Notes
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-01-21T16:10:46-06:00">
                2017-01-21
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Notes/" itemprop="url" rel="index">
                    <span itemprop="name">Notes</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Objectives"><a href="#Objectives" class="headerlink" title="Objectives"></a>Objectives</h1><blockquote>
<ol>
<li>Hadoop的基本构成，运行原理和涉及Hadoop的面试有什么类型的题目</li>
<li>机器学习常见算法（Classification and Regression) 每一种算法的定义、优缺点、输入输出、适合哪一类数据 python上要用的库是什么 命令行是什么</li>
<li>找到data science常见面试题集</li>
</ol>
</blockquote>
<h1 id="What-Is-Hadoop"><a href="#What-Is-Hadoop" class="headerlink" title="What Is Hadoop?"></a>What Is Hadoop?</h1><blockquote>
<ul>
<li>Not a single product</li>
<li>A collection of applications</li>
<li>A framework or platform</li>
<li>Consists of several modules </li>
</ul>
</blockquote>
<p><strong>Components</strong></p>
<blockquote>
<ul>
<li>HDFS</li>
<li>MapReduce</li>
<li>Pig</li>
<li>Hive</li>
<li>Additional Components</li>
</ul>
</blockquote>
<p><img src="/images/Big+Data+and+Hadoop+Training+Hadoop+Components+and+Architecture_1.png" alt=""><br>Image Credit: mssqpltips.com</p>
<p>Hadoop框架中最核心的设计就是：MapReduce和HDFS</p>
<h2 id="HDFS"><a href="#HDFS" class="headerlink" title="HDFS"></a>HDFS</h2><p>The Hadoop Distributed File System, used to store many files across many computers.<br>HDFS是分布式计算的存储基石<br><strong>HDFS</strong></p>
<blockquote>
<ol>
<li>NameNode：管理者，管理文件系统的命名空间、集群配置信息和存储块的复制</li>
<li>DataNode: 文件存储的基本单元，将Block存储在本地文件系统中，保存了Block的Meta-data，同时周期性地将所有存在的Block信息发送给NameNode</li>
<li>Client： 获取分布式文件系统文件的应用程序</li>
</ol>
</blockquote>
<p><strong>三者之间的关系</strong><br>文件写入</p>
<blockquote>
<ol>
<li>Client向NameNode发起文件写入的请求</li>
<li>NameNode根据文件大小和文件块配置情况，返回给Client它所管理部分DataNode的信息</li>
<li>Client将文件划分为多个Block，根据DataNode的地址信息，按顺序写入到每一个DataNode块中</li>
</ol>
</blockquote>
<p>这就好像我要给xx公司送货，我就给总部提出送货申请，总部就会把下面厂的信息告诉我，然后我把这些货一个个给那些厂送过去。</p>
<h2 id="MapReduce"><a href="#MapReduce" class="headerlink" title="MapReduce"></a>MapReduce</h2><p>MapReduce “任务的分解与结果的汇总”<br>Map splits a task into pieces. 将一个任务分解成为多个任务<br>Reduce combines the output. 将分解后多任务处理的结果汇总起来</p>
<p><strong>Notes:</strong> The Original MapReduce program has been replaced by YARN(Yet Another Resource Negotiator).</p>
<h2 id="YARN"><a href="#YARN" class="headerlink" title="YARN"></a>YARN</h2><h2 id="Pig"><a href="#Pig" class="headerlink" title="Pig"></a>Pig</h2><blockquote>
<ul>
<li>Writes MapReduce programs</li>
<li>Uses the Pig Latin language</li>
</ul>
</blockquote>
<h2 id="Hive"><a href="#Hive" class="headerlink" title="Hive"></a>Hive</h2><blockquote>
<ul>
<li>Summarizes queries</li>
<li>Analyzes data</li>
<li>Uses the HiveQL language</li>
</ul>
</blockquote>
<h2 id="Additional-Components"><a href="#Additional-Components" class="headerlink" title="Additional Components"></a>Additional Components</h2><blockquote>
<ul>
<li>HBase: a no SQL database</li>
<li>Storm: allows the processing of streaming data in Hadoop</li>
<li>Spark: allows in memory processing (much faster than on disk processing</li>
<li>Giraph: for social network data </li>
</ul>
</blockquote>
<p>使用场景：海量数据的分析</p>
<h1 id="What-to-do-next"><a href="#What-to-do-next" class="headerlink" title="What to do next?"></a>What to do next?</h1><ol>
<li>看Hadoop熟悉Pig和Hive语法</li>
</ol>
<h1 id="References"><a href="#References" class="headerlink" title="References"></a>References</h1><ol>
<li><a href="http://www.infoq.com/cn/articles/hadoop-intro" target="_blank" rel="external">http://www.infoq.com/cn/articles/hadoop-intro</a></li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/01/16/Hadoop-Introduction/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Rita Hu">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/a1.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Rui's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Rui's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/01/16/Hadoop-Introduction/" itemprop="url">
                  Hadoop 2.7.2 Installation on Mac
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-01-16T00:06:21-06:00">
                2017-01-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Notes/" itemprop="url" rel="index">
                    <span itemprop="name">Notes</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Hadoop-Ecosystem中最主要的两个部分"><a href="#Hadoop-Ecosystem中最主要的两个部分" class="headerlink" title="Hadoop Ecosystem中最主要的两个部分"></a>Hadoop Ecosystem中最主要的两个部分</h1><blockquote>
<ol>
<li>HDFS 大数据存储</li>
<li>MapReduce 大数据操作</li>
</ol>
</blockquote>
<h1 id="Hadoop-Ecosystem各个部分"><a href="#Hadoop-Ecosystem各个部分" class="headerlink" title="Hadoop Ecosystem各个部分"></a>Hadoop Ecosystem各个部分</h1><blockquote>
<ol>
<li>HDFS(Hadoop Distributed File System)</li>
<li>MapReduce</li>
<li>Hive: Apache Hive is a data warehouse infrastructure built on top of Hadoop for providing data summarization, query, and analysis.</li>
</ol>
</blockquote>
<h1 id="Environment-Introduction"><a href="#Environment-Introduction" class="headerlink" title="Environment Introduction"></a>Environment Introduction</h1><blockquote>
<pre><code>Operation System: Mac OS X 10.12 
Hadoop Version: 2.7.2
</code></pre></blockquote>
<h2 id="1-配置Mac-OS自身ssh环境"><a href="#1-配置Mac-OS自身ssh环境" class="headerlink" title="1. 配置Mac OS自身ssh环境"></a>1. 配置Mac OS自身ssh环境</h2><p>配置ssh环境,在终端中输入<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ssh localhost</div></pre></td></tr></table></figure><br><img src="/images/Screen Shot 2017-01-16 at 12.56.14 PM.png" alt=""></p>
<p>是因为之前做了ssh-key免登录的处理,所以现在一输入就直接有了。</p>
<p><strong>Tips: 关于如何做免登录处理</strong></p>
<blockquote>
<ul>
<li>生成公钥<br>$ ssh-keygen -t rsa</li>
<li>设置Mac允许远程登录<br>system preference -&gt; sharing 在remote login那里打钩</li>
<li>设置免密码登录<br>$ cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys</li>
</ul>
</blockquote>
<h2 id="2-下载Hadoop"><a href="#2-下载Hadoop" class="headerlink" title="2. 下载Hadoop"></a>2. 下载Hadoop</h2><p>手动在官网下载Hadoop-2.7.2.tar，然后解压得到文件夹hadoop-2.7.2，把它移到~/dev/hadoop目录下</p>
<h2 id="3-设置环境变量"><a href="#3-设置环境变量" class="headerlink" title="3. 设置环境变量"></a>3. 设置环境变量</h2><p>在实际配置Hadoop之前，我们需要配置好环境变量<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ export HADOOP_HOME=/Users/user/dev/hadoop/hadoop-2.7.2</div><div class="line">$ export PATH=$PATH:$HADOOP_HOME/bin</div></pre></td></tr></table></figure><br>Tips: export设置只对当前的bash登陆session有效。可是使用source命令使其立即生效。(并不知道这句话什么意思，先记下来）</p>
<h2 id="4-Hadoop配置"><a href="#4-Hadoop配置" class="headerlink" title="4. Hadoop配置"></a>4. Hadoop配置</h2><h3 id="配置hadoop-env-sh"><a href="#配置hadoop-env-sh" class="headerlink" title="配置hadoop-env.sh"></a>配置hadoop-env.sh</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">export JAVA_HOME=$&#123;JAVA_HOME&#125;</div></pre></td></tr></table></figure>
<h3 id="配置其他文件"><a href="#配置其他文件" class="headerlink" title="配置其他文件"></a>配置其他文件</h3><p>2.7.x系列的版本配置文件在hadoop-2.7.2/etc/hadoop目录下，所以我们去到这个目录下，依次打开这3个文件</p>
<p>1) core-site.xml<br>该配置文件用于指定NameNode的主机名与端口<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&lt;configuration&gt;</div><div class="line">    &lt;property&gt;</div><div class="line">        &lt;name&gt;fs.defaultFS&lt;/name&gt;</div><div class="line">        &lt;value&gt;hdfs://localhost:9000&lt;/value&gt;</div><div class="line">    &lt;/property&gt;</div><div class="line">    &lt;property&gt;</div><div class="line">        &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;</div><div class="line">        &lt;value&gt;file:/Users/user/dev/hadoop/hadoop-2.7.2/tmp&lt;/value&gt;</div><div class="line">    &lt;/property&gt;</div><div class="line">    &lt;property&gt;</div><div class="line">        &lt;name&gt;io.file.buffer.size&lt;/name&gt;</div><div class="line">        &lt;value&gt;131702&lt;/value&gt;</div><div class="line">    &lt;/property&gt;</div><div class="line">&lt;/configuration&gt;</div></pre></td></tr></table></figure>     </p>
<p>2) hdfs-site.xml<br>该配置文件制定了HDFS的默认参数及副本数，因为仅运行在一个节点上，所以这里的副本数为1<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">&lt;configuration&gt;</div><div class="line">    &lt;property&gt;</div><div class="line">        &lt;name&gt;dfs.namenode.name.dir&lt;/name&gt;</div><div class="line">        &lt;value&gt;file:/Users/user/dev/hadoop/hadoop-2.7.2/tmp/hdfs/name&lt;/value&gt;</div><div class="line">    &lt;/property&gt;</div><div class="line">    &lt;property&gt;</div><div class="line">        &lt;name&gt;dfs.datanode.data.dir&lt;/name&gt;</div><div class="line">        &lt;value&gt;file:/Users/user/dev/hadoop/hadoop-2.7.2/tmp/hdfs/data&lt;/value&gt;</div><div class="line">    &lt;/property&gt;</div><div class="line">    &lt;property&gt;</div><div class="line">        &lt;name&gt;dfs.replication&lt;/name&gt;</div><div class="line">        &lt;value&gt;1&lt;/value&gt;</div><div class="line">    &lt;/property&gt;</div><div class="line">    &lt;property&gt;</div><div class="line">        &lt;name&gt;dfs.namenode.secondary.http-address&lt;/name&gt;</div><div class="line">        &lt;value&gt;localhost:9001&lt;/value&gt;</div><div class="line">    &lt;/property&gt;</div><div class="line">    &lt;property&gt;</div><div class="line">      &lt;name&gt;dfs.webhdfs.enabled&lt;/name&gt;</div><div class="line">      &lt;value&gt;true&lt;/value&gt;</div><div class="line">    &lt;/property&gt;</div><div class="line">&lt;/configuration&gt;</div></pre></td></tr></table></figure>      </p>
<p>3) mapred-site.xml.template<br>该配置文件制定了JobTracker的主机名与端口<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;configuration&gt;</div><div class="line">	&lt;property&gt;</div><div class="line">	&lt;name&gt;mapred.job.tracker&lt;/name&gt;</div><div class="line">	&lt;value&gt;localhost:9001&lt;/value&gt;</div><div class="line">	&lt;/property&gt;</div><div class="line">&lt;/configuration&gt;</div></pre></td></tr></table></figure></p>
<h2 id="5-运行Hadoop"><a href="#5-运行Hadoop" class="headerlink" title="5. 运行Hadoop"></a>5. 运行Hadoop</h2><h3 id="初始化HDFS"><a href="#初始化HDFS" class="headerlink" title="初始化HDFS"></a>初始化HDFS</h3><p>在Hadoop主目录~/dev/hadoop/hadoop-2.7.2下输入命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ bin/hdfs namenode -format</div></pre></td></tr></table></figure></p>
<p>结果如下<br><img src="/images/Screen Shot 2017-01-16 at 1.31.32 PM.png" alt=""><br>说明初始化成功啦！</p>
<h3 id="开启NameNode和DataNode守护进程"><a href="#开启NameNode和DataNode守护进程" class="headerlink" title="开启NameNode和DataNode守护进程"></a>开启NameNode和DataNode守护进程</h3><p>使用如下命令开启：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sbin/start-dfs.sh</div></pre></td></tr></table></figure><br><img src="/images/Screen Shot 2017-01-16 at 1.33.37 PM.png" alt=""></p>
<h3 id="查看进程信息"><a href="#查看进程信息" class="headerlink" title="查看进程信息"></a>查看进程信息</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ jps</div></pre></td></tr></table></figure>
<p><img src="/images/Screen Shot 2017-01-16 at 1.34.57 PM.png" alt=""></p>
<h3 id="查看Web-UI"><a href="#查看Web-UI" class="headerlink" title="查看Web UI"></a>查看Web UI</h3><p>在浏览器中输入: <a href="http://localhost:50070" target="_blank" rel="external">http://localhost:50070</a>， 即可查看相关信息，截图如下:</p>
<p><img src="/images/Screen Shot 2017-01-16 at 1.36.18 PM.png" alt=""></p>
<p>此时，hadoop伪分布式集成环境已经搭建完成,接下来运行一下WordCount例子。</p>
<h2 id="6-运行WordCount"><a href="#6-运行WordCount" class="headerlink" title="6. 运行WordCount"></a>6. 运行WordCount</h2><p>这里就用blog处女作“听说这是成为技术界网红的第一步.md”    </p>
<ol>
<li><p>在HDFS中新建测试文件夹test.命令为:bin/hdfs dfs -mkdir /test，使用”bin/hdfs dfs -ls”命令查看是否新建成功。<br>Notes: ls: `.’: No such file or directory<br>暂时还没搞清楚为什么这样，还有待研究orz…   </p>
</li>
<li><p>上传测试文件，命令如下:bin/hdfs dfs -put ~/Desktop/听说这是成为技术界网红的第一步.md /test/，可使用之前命令查看是否上传成功。<br>Notes: ls: `.’: No such file or directory   </p>
</li>
<li><p>运行wordcount，命令如下:bin/hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.2.jar wordcount /test/听说这是成为技术界网红的第一步.md /test/out，运行完成后，在/test目录下生成名为out的目录，其内容如下所示:<br><img src="/images/Screen Shot 2017-01-16 at 1.43.48 PM.png" alt=""><br>表示已经运行成功，结果存放在part-r-00000文件中</p>
</li>
<li><p>使用命令:bin/hadoop fs -cat /test/out/part-r-00000 查看结果为如下图所示:<br><img src="/images/Screen Shot 2017-01-16 at 1.54.13 PM.png" alt=""></p>
</li>
</ol>
<p>Finally! 可以好好耍Hadoop了！</p>
<h1 id="References"><a href="#References" class="headerlink" title="References"></a>References</h1><ol>
<li><a href="http://hustlijian.github.io/tutorial/2015/06/19/Hadoop入门使用.html" target="_blank" rel="external">http://hustlijian.github.io/tutorial/2015/06/19/Hadoop入门使用.html</a></li>
<li><a href="http://kiritor.github.io/2016/04/24/Hadoop-install/" target="_blank" rel="external">http://kiritor.github.io/2016/04/24/Hadoop-install/</a></li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/01/15/听说这是成为技术界网红的第一步/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Rita Hu">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/a1.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Rui's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Rui's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/01/15/听说这是成为技术界网红的第一步/" itemprop="url">
                  听说这是成为技术界网红的第一步
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-01-15T17:05:53-06:00">
                2017-01-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/脑洞/" itemprop="url" rel="index">
                    <span itemprop="name">脑洞</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>花了累计两个下午，照葫芦画瓢地搞了个技术博客，终于走出了<del>要成为技术界网红</del>归纳整理知识的第一步。实现了一个月前说要搞个看起来逼格很高的博客的雄心壮志，代价是钥匙包掉了[好气哦但我要保持微笑]。还有好多功能要完善，但至少有个样子了。说好了这周要撸的Hadoop还没撸，所以趁明天周一放假，抓紧时间看一眼Hadoop好了[听说flag立出来以后计划比较容易实现？]<br>果然立flag比较容易完成，那今天就把Hadoop实例撸一撸然后就去玩ECharts好了。<br>未完待续…</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/a1.png"
               alt="Rita Hu" />
          <p class="site-author-name" itemprop="name">Rita Hu</p>
          <p class="site-description motion-element" itemprop="description">证不如数学|码不如码农</p>
        </div>
        <nav class="site-state motion-element">
        
          
            <div class="site-state-item site-state-posts">
              <a href="/">
                <span class="site-state-item-count">6</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">2</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">2</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Rita Hu</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	





  




  
  

  

  

  

  


</body>
</html>
